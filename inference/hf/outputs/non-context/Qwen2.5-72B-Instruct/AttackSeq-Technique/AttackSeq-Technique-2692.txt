### Step 1: Analyze the Question
The question describes a sequence of actions taken by the Elfin group:
1. Scanning for vulnerable websites to identify potential targets.
2. Ensuring code execution on unpatched systems by exploiting CVE-2018-20250.
3. Using spear-phishing as a method to deliver the exploit.

### Step 2: Compare and Evaluate
Let's evaluate each answer choice to determine which one aligns best with the attack sequence described:

- **A: T1190-Exploit Public-Facing Application**
  - This technique involves exploiting a vulnerability in a public-facing application. While this could be a plausible step, the question specifically mentions that the exploit is delivered via spear-phishing, not through a public-facing application.

- **B: T1566.001-Spearphishing Attachment**
  - This technique involves sending spear-phishing emails with attachments that contain the exploit. This aligns well with the question, as it mentions that the exploit (CVE-2018-20250) is delivered via spear-phishing.

- **C: T1562-Impair Defenses**
  - This technique involves degrading or disabling security defenses. While this could be a step in the attack, it is not the most likely step that occurred immediately before ensuring code execution via the exploit.

- **D: T1027.014-Polymorphic Code**
  - This technique involves using code that changes its appearance to evade detection. While this could be used in the attack, it is not the most likely step that occurred immediately before ensuring code execution via the exploit.

### Step 3: Provide a Step-by-Step Reasoning and Final Answer
1. The question describes a sequence where the Elfin group first scans for vulnerable websites to identify targets.
2. They then use spear-phishing to deliver an exploit (CVE-2018-20250) to ensure code execution on unpatched systems.
3. Among the answer choices, **T1566.001-Spearphishing Attachment** is the most plausible technique that occurred before the code execution, as it directly involves the delivery method (spear-phishing) mentioned in the question.

**Final Answer: B: T1566.001-Spearphishing Attachment**