To determine which ATT&CK technique most likely occurred before the RIG EK initiated its Initial Access through drive-by compromise leveraging malvertising and compromised sites, we need to analyze the sequence of TTPs involved in such an attack.

1. **Initial Access (T1566.003)**: This is the first step in the attack where the adversary gains a foothold in the target network. In this case, the initial access is through drive-by compromise using malvertising and compromised sites.

2. **Understanding the Options**:
   - **A: T1587.002-Code Signing Certificates**: This technique involves using code signing certificates to sign malicious code, making it appear legitimate. This is more about the execution phase rather than the initial access.
   - **B: T1588-Obtain Capabilities**: This technique involves gathering information to understand the target environment and capabilities needed for the attack. This is a preparatory step but not directly related to the initial access through malvertising.
   - **C: T1091-Replication Through Removable Media**: This technique involves using removable media to spread malware. This is not directly related to the initial access through malvertising.
   - **D: T1573-Encrypted Channel**: This technique involves using encrypted channels to maintain persistence and avoid detection. This is more about maintaining access rather than the initial access.

3. **Reasoning**:
   - The attack sequence described involves the adversary gaining access through malvertising and compromised sites. This suggests that the adversary had to first understand the target environment and possibly gather some information to craft the attack vector.
   - The most plausible technique that would occur before the initial access through malvertising would be one that involves reconnaissance or gathering information about the target.

4. **Conclusion**:
   - **T1588-Obtain Capabilities (B)** is the most plausible technique that would occur before the initial access through malvertising. This technique involves gathering information about the target environment, which is a necessary step before crafting and deploying an attack vector like malvertising.

Final Answer: B: T1588-Obtain Capabilities