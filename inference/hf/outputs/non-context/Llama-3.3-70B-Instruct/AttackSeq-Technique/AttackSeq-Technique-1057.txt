To answer this question, let's break it down step by step:

1. **Analyzing the Question**: The question describes the Darkhotel APT's ability to maintain a global and dynamic network infrastructure that includes compromised commercial resources. This implies the group has a method to control and utilize compromised systems or networks across different locations.

2. **Identifying the Sequence of TTPs**: The key detail here is the maintenance of a "global and dynamic network infrastructure" which suggests the need for compromised infrastructure to support their operations.

3. **Comparing and Evaluating Answer Choices**:
   - **A: T1608.001-Upload Malware**: This technique involves uploading malware to a compromised system, which is a step that could be part of the attack but doesn't directly relate to maintaining a network infrastructure.
   - **B: T1573-Encrypted Channel**: Establishing an encrypted channel is crucial for hiding communication between compromised systems and command and control (C2) servers, but it doesn't directly enable the maintenance of a global infrastructure.
   - **C: T1584.002-DNS Server**: While compromising a DNS server could be a tactic used by an APT group, the specific mention of "DNS Server" as a sub-technique under "Compromise Infrastructure" might not fully capture the breadth of maintaining a dynamic network infrastructure.
   - **D: T1584-Compromise Infrastructure**: This technique directly involves compromising infrastructure, which could include commercial resources, to support the group's operations. It aligns with the need to maintain a global and dynamic network infrastructure.

4. **Step-by-Step Reasoning**:
   - The Darkhotel APT's ability to maintain a global and dynamic network infrastructure suggests they need control over various systems or networks.
   - Compromising infrastructure (T1584) would provide the necessary control and access to resources, enabling the maintenance of such an infrastructure.
   - While uploading malware, establishing encrypted channels, and compromising DNS servers are all potential tactics, they are more specific actions that might be part of a broader strategy of compromising infrastructure.

5. **Final Answer**: Given the need for the Darkhotel APT to maintain a global and dynamic network infrastructure, the most likely ATT&CK technique that occurred is compromising infrastructure, which directly supports the establishment and maintenance of such an infrastructure.

Final Answer: D